<h1 align="center">
Tiny-agent
</h1>

<div align="center">

**ä¸€ä¸ªå®Œå…¨å‰ç«¯é©±åŠ¨çš„ AI Agent é¡¹ç›®ï¼Œæ— éœ€æœåŠ¡å™¨èµ„æº**

[English](./README_EN.md) | ç®€ä½“ä¸­æ–‡

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![React](https://img.shields.io/badge/React-19-61dafb.svg)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178c6.svg)](https://www.typescriptlang.org/)
[![WebLLM](https://img.shields.io/badge/WebLLM-Latest-orange.svg)](https://github.com/mlc-ai/web-llm)

</div>

## ğŸ“º æ¼”ç¤ºè§†é¢‘

[intro.mp4](/app/web-app/public/intro.mp4)

> å®Œæ•´æ¼”ç¤ºè§†é¢‘å±•ç¤ºäº† tiny-agent æ‰§è¡Œå¤æ‚ä»»åŠ¡çš„å…¨è¿‡ç¨‹

## âœ¨ é¡¹ç›®ç‰¹ç‚¹

### ğŸŒ å®Œå…¨æµè§ˆå™¨ç«¯è¿è¡Œ

- **é›¶æœåŠ¡å™¨ä¾èµ–**ï¼šæ‰€æœ‰ AI æ¨ç†å®Œå…¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä½¿ç”¨ WebLLM å’Œ WebGPU
- **æ— éœ€ API Key**ï¼šä¸éœ€è¦ä»»ä½•ç¬¬ä¸‰æ–¹ APIï¼Œé›¶æˆæœ¬ä½¿ç”¨
- **å®Œå…¨éšç§**ï¼šæ‰€æœ‰æ•°æ®ä¿ç•™åœ¨æœ¬åœ°è®¾å¤‡ï¼Œæ°¸ä¸ä¸Šä¼ 

### ğŸ—ï¸ å…ˆè¿›çš„ Agent æ¶æ„

- **Planning Agent æ¨¡å¼**ï¼šå®Œæ•´çš„è§„åˆ’-æ‰§è¡Œ-åæ€å¾ªç¯
- **çŠ¶æ€æœºæ§åˆ¶å™¨**ï¼šIDLE â†’ PLANNING â†’ EXECUTING â†’ RETHINKING â†’ DONE
- **UI ä¸ Agent å±‚åˆ†ç¦»**ï¼šæ¸…æ™°çš„æ¶æ„è¾¹ç•Œï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **åŒ LLM ç³»ç»Ÿ**ï¼šåˆ†åˆ«ç”¨äºè§„åˆ’å’Œå·¥å…·æ‰§è¡Œçš„ LLM å®ä¾‹

### ğŸ’¾ æ•°æ®æŒä¹…åŒ–

- **IndexedDB å­˜å‚¨**ï¼šå¯¹è¯å†å²ã€æ–‡ä»¶é™„ä»¶ã€å·¥å…·ç»“æœå…¨éƒ¨æœ¬åœ°æŒä¹…åŒ–
- **Session ç®¡ç†**ï¼šå®Œæ•´çš„å¤šè½®å¯¹è¯æ”¯æŒ
- **æ–‡ä»¶é™„ä»¶ç³»ç»Ÿ**ï¼šæ”¯æŒåœ¨å›å¤ä¸­é™„åŠ ç”Ÿæˆçš„æ–‡ä»¶

### ğŸ”Œ MCP åè®®æ”¯æŒ

- **Model Context Protocol**ï¼šå®Œæ•´æ”¯æŒ MCP åè®®
- **MCP Bridge Extension**ï¼šChrome æ‰©å±•è§£å†³ CORS é™åˆ¶
- **å¯æ‰©å±•å·¥å…·ç³»ç»Ÿ**ï¼šè½»æ¾æ·»åŠ æ–°çš„å·¥å…·å’Œèƒ½åŠ›

### âš¡ æ€§èƒ½ä¼˜åŒ–

- **WebGPU åŠ é€Ÿ**ï¼šåˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿå®ç°æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½
- **æµå¼å“åº”**ï¼šå®æ—¶æµå¼è¾“å‡ºï¼Œå³æ—¶åé¦ˆ
- **React 19 Compiler**ï¼šè‡ªåŠ¨ä¼˜åŒ–ï¼Œæ›´å¿«çš„æ¸²æŸ“æ€§èƒ½
- **Web Workers**ï¼šLLM æ¨ç†åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸é˜»å¡ UI

### ğŸ› ï¸ å†…ç½®å·¥å…·

- **Code Expert**ï¼šä»£ç ç”Ÿæˆå’Œè½¯ä»¶å·¥ç¨‹ä»»åŠ¡
- **JavaScript Executor**ï¼šæ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œ JavaScript
- **Writing Expert**ï¼šå†™ä½œå’Œå†…å®¹åˆ›ä½œè¾…åŠ©

## ğŸ›ï¸ é¡¹ç›®æ¶æ„

```
tiny-agent/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ web-app/              # React 19 + Vite å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/   # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ stores/       # MobX çŠ¶æ€ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚       â”‚   â””â”€â”€ stream/       # æµå¼å¤„ç†
â”‚       â””â”€â”€ public/           # é™æ€èµ„æº
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ agent-core/           # Agent æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/         # çŠ¶æ€æœºæ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ service/      # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ storage/      # IndexedDB å­˜å‚¨
â”‚   â”‚   â”‚   â””â”€â”€ tools/        # å†…ç½®å·¥å…·
â”‚   â”œâ”€â”€ web-llm/              # è‡ªå®šä¹‰ @mlc-ai/web-llm fork
â”‚   â”œâ”€â”€ mcp-bridge-extension/ # Chrome æ‰©å±•ï¼ˆMCP CORS è§£å†³æ–¹æ¡ˆï¼‰
â”‚   â””â”€â”€ utils/                # å…±äº«å·¥å…·åº“
â””â”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
```

### æ ¸å¿ƒæ¶æ„äº®ç‚¹

1. **Monorepo è®¾è®¡**ï¼šä½¿ç”¨ pnpm workspaces ç®¡ç†å¤šåŒ…é¡¹ç›®
2. **çŠ¶æ€æœºæ¨¡å¼**ï¼šAgent æ‰§è¡Œéµå¾ªä¸¥æ ¼çš„çŠ¶æ€è½¬æ¢
3. **æµå¼æ¶æ„**ï¼šç«¯åˆ°ç«¯æµå¼å¤„ç†ï¼Œä» LLM åˆ° UI
4. **ç±»å‹å®‰å…¨**ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œå®Œæ•´çš„ç±»å‹å®šä¹‰
5. **æ¨¡å—åŒ–å·¥å…·ç³»ç»Ÿ**ï¼šé€šè¿‡æ¸…æ™°çš„æ¥å£è½»æ¾æ‰©å±•

## ğŸš€ æŠ€æœ¯æ ˆ

### å‰ç«¯

- **React 19** - æœ€æ–°çš„ React ç‰ˆæœ¬ï¼Œæ”¯æŒ React Compiler
- **TypeScript 5.9** - ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Vite 7** - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **shadcn/ui** - é«˜è´¨é‡çš„ UI ç»„ä»¶
- **Radix UI** - æ— éšœç¢çš„ UI åŸè¯­
- **MobX** - ç®€å•ã€å¯æ‰©å±•çš„çŠ¶æ€ç®¡ç†

### AI/LLM

- **@mlc-ai/web-llm** - æµè§ˆå™¨ä¸­çš„ LLM æ¨ç†ï¼ˆè‡ªå®šä¹‰ forkï¼‰
- **WebGPU** - ç¡¬ä»¶åŠ é€Ÿçš„å›¾å½¢å’Œè®¡ç®— API
- **Web Workers** - å¤šçº¿ç¨‹ LLM æ¨ç†

### åŸºç¡€è®¾æ–½

- **pnpm** - å¿«é€Ÿã€èŠ‚çœç£ç›˜ç©ºé—´çš„åŒ…ç®¡ç†å™¨
- **Turbo** - é«˜æ€§èƒ½æ„å»ºç³»ç»Ÿ
- **IndexedDB** - æµè§ˆå™¨ç«¯æ•°æ®åº“
- **Chrome Extension (Manifest V3)** - MCP CORS è§£å†³æ–¹æ¡ˆ

## ğŸ“¦ å®‰è£…å’Œä½¿ç”¨

### å‰ç½®è¦æ±‚

- Node.js >= 18
- pnpm >= 8
- æ”¯æŒ WebGPU çš„ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Edge 113+ï¼‰

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/RichDavidMu/tiny-agent.git
cd tiny-agent

# å®‰è£…ä¾èµ–
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æˆ–è€…åªå¯åŠ¨ web-app
cd app/web-app
pnpm dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# æˆ–è€…åªæ„å»º web-app
cd app/web-app
pnpm build
```

### å®‰è£… MCP Bridge Extensionï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨ MCP åŠŸèƒ½ï¼š

1. æ„å»ºæ‰©å±•ï¼š

```bash
cd packages/mcp-bridge-extension
pnpm build
```

2. åœ¨ Chrome ä¸­åŠ è½½æ‰©å±•ï¼š
   - æ‰“å¼€ `chrome://extensions/`
   - å¯ç”¨"å¼€å‘è€…æ¨¡å¼"
   - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
   - é€‰æ‹© `packages/mcp-bridge-extension/dist` ç›®å½•

## ğŸ¯ ä½¿ç”¨æŒ‡å—

1. **é¦–æ¬¡ä½¿ç”¨**ï¼šé¦–æ¬¡æ‰“å¼€åº”ç”¨æ—¶ï¼ŒLLM æ¨¡å‹ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶ç¼“å­˜åœ¨æµè§ˆå™¨ä¸­ï¼ˆçº¦ 2-4GBï¼‰
2. **å¼€å§‹å¯¹è¯**ï¼šåœ¨èŠå¤©ç•Œé¢è¾“å…¥ä½ çš„é—®é¢˜æˆ–ä»»åŠ¡
3. **Agent æ‰§è¡Œ**ï¼šAgent ä¼šè‡ªåŠ¨è§„åˆ’ã€æ‰§è¡Œä»»åŠ¡ï¼Œå¹¶æä¾›å®æ—¶åé¦ˆ
4. **æŸ¥çœ‹ç»“æœ**ï¼šä»»åŠ¡å®Œæˆåï¼Œå¯ä»¥æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶å’Œè¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹

## ğŸ”§ é…ç½®

### è°ƒè¯•æ—¥å¿—

åœ¨é€šç”¨è®¾ç½®ä¸­å¯ä»¥å¼€å¯è°ƒè¯•æ—¥å¿—ï¼š

- **Web App æ—¥å¿—**ï¼šå‰ç«¯åº”ç”¨çš„è°ƒè¯•ä¿¡æ¯
- **Agent Core æ—¥å¿—**ï¼šAgent æ ¸å¿ƒé€»è¾‘çš„è°ƒè¯•ä¿¡æ¯

æ—¥å¿—é€šè¿‡ `localStorage.debug` å­—æ®µæ§åˆ¶ï¼ˆæ ¼å¼ï¼š`web-app*,agent-core*`ï¼‰

### ä¸»é¢˜

æ”¯æŒæµ…è‰²å’Œæ·±è‰²ä¸»é¢˜ï¼Œå¯åœ¨é€šç”¨è®¾ç½®ä¸­åˆ‡æ¢ã€‚

## ğŸ“ å¾…å®ŒæˆåŠŸèƒ½

- [ ] **ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šæ›´æ™ºèƒ½çš„ä¸Šä¸‹æ–‡çª—å£ç®¡ç†å’Œå‹ç¼©
- [ ] **æ›´å¤šå·¥å…·**ï¼šæ‰©å±•å†…ç½®å·¥å…·é›†
- [ ] **æ¨¡å‹é€‰æ‹©**ï¼šæ”¯æŒå¤šä¸ª LLM æ¨¡å‹åˆ‡æ¢
- [ ] **å¯¼å‡ºåŠŸèƒ½**ï¼šå¯¼å‡ºå¯¹è¯å†å²å’Œç”Ÿæˆçš„æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Issue æˆ– Pull Requestã€‚

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [WebLLM](https://github.com/mlc-ai/web-llm) - æµè§ˆå™¨ä¸­çš„ LLM æ¨ç†å¼•æ“
- [shadcn/ui](https://ui.shadcn.com/) - ç²¾ç¾çš„ UI ç»„ä»¶
- [Radix UI](https://www.radix-ui.com/) - æ— éšœç¢çš„ UI åŸè¯­

## ğŸ“® è”ç³»æ–¹å¼

- GitHub: [@RichDavidMu](https://github.com/RichDavidMu)
- é¡¹ç›®åœ°å€: [https://github.com/RichDavidMu/tiny-agent](https://github.com/RichDavidMu/tiny-agent)

---

<div align="center">
Made with â¤ï¸ by the tiny-agent team
</div>
